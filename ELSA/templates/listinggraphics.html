$def with (mail,type,id)
$var recursive : False
$var location: list/$(type)=$(c.findAllFromType(type).get_class_acronym()) graphic/$(type)_$(id)=graphic
$var lang : $c.connectedUsers.users[mail].cuser.fields['language']
$code:
    allobjects = c.findAllFromType(type)
    elem = allobjects.elements[id]
    keyID = c.findAllFromObject(elem).keyColumn
$var title : $elem.getName(self.lang)

<script>
    $$(function(){
	$$("#includedAllMenu$(type)_$(id)").load("/fullentry/$(type)_$(id)");
    });
</script>
<div id="includedAllMenu$(type)_$(id)"></div>
<script type="text/javascript" src="/static/js/jquery.flot.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.flot.time.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.flot.selection.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.flot.tooltip.min.js"></script>
<script type="text/javascript" src="/static/js/binaryXHR.js"></script>
<script type="text/javascript" src="/static/js/rrdFlotSupport.js"></script>
<script type="text/javascript" src="/static/js/rrdFlot.js"></script>
<script type="text/javascript" src="/static/js/rrdFile.js"></script>
<script type="text/javascript" src="/static/js/rrdFilter.js"></script>
<script type="text/javascript" src="/static/js/rrdFlotAsync.js"></script>
<script type="text/javascript" src="/static/js/javascriptrrd.js"></script>
<script>
    var graph_opts={legend: { noColumns:4},
		tooltip: true,
	    	tooltipOpts: { show:true, xDateFormat:"%H:%M:%S", content:"<h4>%s</h4> Value: %y.3 <br/> %x " } };
    var rrdflot_defaults={graph_width: "600px", graph_only:true}
</script>
$code:
    sensors = elem.get_sensors_in_component(c)

$for k in sensors:
	$code:
	    currSensor = c.AllSensors.elements[k]
	$if currSensor and (currSensor.fields['active'] == '1' or currSensor.fields['active'] == 1):
	    <h1 id="title"><a href="/graphic/s_$currSensor.id"><strong><span class="$c.getHalfling('sensor')"></span></strong> $currSensor.getName(self.lang)</a></h1>
	    <table width="100%">
		<tr>
		    <td>
			<div id="mygraph$(k)"></div>
		    </td>
		</tr>
	    </table>
	
	    <script type="text/javascript">		
		$code:
		    url = '/rrd/'+currSensor.getRRDName()
		    dsName = currSensor.fields['acronym']
	   	    dsColor = None #currSensor.fields['color']
		    if not dsColor:
			dsColor = "#0080ff"
		var ds_graph_opts = { '$dsName': { color:'$dsColor' }}
		flot_obj=new rrdFlotAsync("mygraph$(k)","$url",null,graph_opts,ds_graph_opts,rrdflot_defaults);
	    </script>
